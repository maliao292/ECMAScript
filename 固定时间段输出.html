<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>大约三个月时间段</title>
</head>
<body>
<script>
    function ltime(month) {
        let today = new Date();
        // let beforeweek =today - month*4*7*24*60*60*1000;
     //   let a = new Date(beforeweek).getMonth() + 1;
        let montharr = [];

        for (let i = 0; i < month * 4; i++) {

            let beforeweek = today - i*7 * 24 * 60 * 60 * 1000;
            let endweek = beforeweek - 6 * 24 * 60 * 60 * 1000;
            let  Y =  new Date(beforeweek).getFullYear();
            let M = ( new Date(beforeweek).getMonth() + 1 < 10 ? '0' + (new Date(beforeweek).getMonth() + 1) : new Date(beforeweek).getMonth() + 1);
            let D = new Date(beforeweek).getDate();
            let Y_e = new Date(endweek).getFullYear();
            let M_e = ( new Date(endweek).getMonth() + 1 < 10 ? '0' + (new Date(endweek).getMonth() + 1) : new Date(endweek).getMonth() + 1);
            let D_e = new Date(endweek).getDate();
            let md =Y+'-'+M+'-'+D;
            let md_e =Y_e+'-'+M_e+'-'+D_e;

            montharr.unshift(md_e+'~'+md);
        }
console.log(montharr)
    }

    ltime(3)
</script>
</body>
</html>